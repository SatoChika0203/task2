<!--一覧画面-->
<div class="flash"><%= flash[:notice] %></div>

<div class="index">
<h1 class="title">Books</h1>
<table>
<tr>
<th width="200">Title</th>
<th width="400">Body</th>
</tr>

<% @books.each do |book| %>
<!--@books.eachでBookレコードの数だけ繰り返し処理、book変数に格納-->
<tr height="20">
<td><%= book.title %></td>
<td><%= book.body %></td>

<td><%= link_to "Show", book_path(book.id) %></td>
<td><%= link_to "Edit", edit_book_path(book.id) %></td>
<td><%= link_to "Destroy", book_path(book.id), method: :delete, "data-confirm"=>"Are you sure?" %></td>
</tr>
<% end %>
</table>
</div>

<div>
<h2 class="sub-title">New Book</h2>
<% if @book.errors.any? %>
<%= @book.errors.count %> errors prohibited this book from being saved:
 <ul>
 <% @book.errors.full_messages.each do |message| %>
 <li><%= message %></li>
 <%end%>
 </ul>
<%end%>

 <div class="form">
  <%= form_with model: @book, url:books_path, method: :post do |f| %>  <!--Bookモデルの情報をもとに新しくオブジェクトを作成-->
  <div class="form-text">Title</div>
  <div class="form-box"><%= f.text_field :title %></div>
  <div class="form-text">Body</div>
  <div class="form-box"><%= f.text_area :body %></div>

 <%= f.submit 'Create Book' %>
<% end %>
 </div>
 </div>
